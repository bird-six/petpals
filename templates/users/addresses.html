{% extends "base.html" %}
{% block title %}我的收货地址 - PetPals{% endblock %}

{% block content %}
<section class="py-16 bg-neutral-100">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-900 mb-8 fade-in">我的收货地址</h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
      <!-- 侧边栏（复用） -->
      <div class="lg:col-span-1 fade-in" style="transition-delay: 0.1s">
        <div class="bg-white rounded-xl overflow-hidden card-hover">
          <div class="p-6 border-b border-neutral-200">
            <div class="flex items-center space-x-4">
              <img src="https://picsum.photos/id/1005/100/100" alt="用户头像" class="w-16 h-16 rounded-full object-cover border-2 border-primary">
              <div>
                <h3 class="font-bold text-lg">{{ request.user.username }}</h3>
                <p class="text-sm text-neutral-600">普通会员</p>
              </div>
            </div>
          </div>
          
          <div class="p-4">
            <ul class="space-y-1">
              <li>
                <a href="{% url 'users:user_profile' %}" data-url='{% url 'users:user_profile' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-user-o w-5 text-center mr-3"></i>
                  <span>个人信息</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:my_orders' %}" data-url='{% url 'users:my_orders' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-list-alt w-5 text-center mr-3"></i>
                  <span>我的订单</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:shopping_cart' %}" data-url='{% url 'users:shopping_cart' %}' class="nav-link flex items-center px-4 py-3 text-primary bg-primary/10 rounded-lg">
                  <i class="fa fa-shopping-cart w-5 text-center mr-3"></i>
                  <span>购物车</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:addresses' %}" data-url='{% url 'users:addresses' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-map-marker w-5 text-center mr-3"></i>
                  <span>收货地址</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:browsing_history' %}" data-url='{% url 'users:browsing_history' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-history w-5 text-center mr-3"></i>
                  <span>浏览记录</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:my_posts' %}" data-url='{% url 'users:my_posts' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-comment-o w-5 text-center mr-3"></i>
                  <span>我的发帖</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:my_favorites' %}" data-url='{% url 'users:my_favorites' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-heart-o w-5 text-center mr-3"></i>
                  <span>我的收藏</span>
                </a>
              </li>
              <li>
                <a href="{% url 'users:account_settings' %}" data-url='{% url 'users:account_settings' %}' class="nav-link flex items-center px-4 py-3 text-neutral-700 hover:bg-neutral-100 rounded-lg transition-colors">
                  <i class="fa fa-cog w-5 text-center mr-3"></i>
                  <span>账户设置</span>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- 主内容区 -->
      <div class="lg:col-span-3 space-y-8" id="main-content">
        <div class="bg-white rounded-xl overflow-hidden card-hover fade-in" style="transition-delay: 0.2s">
          <div class="p-6 border-b border-neutral-200">
            <div class="flex justify-between items-center">
              <h3 class="text-xl font-bold flex items-center">
                <i class="fa fa-map-marker text-primary mr-2"></i>
                收货地址管理
              </h3>
              <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                <i class="fa fa-plus mr-1"></i> 添加新地址
              </button>
            </div>
          </div>
          
          <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- 地址1（默认） -->
            <div class="border-2 border-primary rounded-lg p-4 relative group">
              <div class="absolute -top-3 left-4 bg-primary text-white text-xs px-2 py-0.5 rounded">
                默认地址
              </div>
              <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-2">
                <button class="text-neutral-500 hover:text-primary transition-colors p-1">
                  <i class="fa fa-pencil"></i> 编辑
                </button>
                <button class="text-neutral-500 hover:text-red-500 transition-colors p-1">
                  <i class="fa fa-trash-o"></i> 删除
                </button>
              </div>
              <div class="flex items-center mb-2 pt-2">
                <h4 class="font-medium mr-3">张小明</h4>
                <span class="text-neutral-600">138****6789</span>
              </div>
              <p class="text-neutral-700">北京市朝阳区建国路88号 现代城5号楼2307室</p>
              <div class="mt-3 flex items-center text-sm text-neutral-500">
                <span class="mr-3"><i class="fa fa-home mr-1"></i> 住宅</span>
                <button class="text-primary hover:underline">设为默认</button>
              </div>
            </div>
            
            <!-- 地址2 -->
            <div class="border border-neutral-200 rounded-lg p-4 relative group hover:border-primary/50 transition-colors">
              <div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-2">
                <button class="text-neutral-500 hover:text-primary transition-colors p-1">
                  <i class="fa fa-pencil"></i> 编辑
                </button>
                <button class="text-neutral-500 hover:text-red-500 transition-colors p-1">
                  <i class="fa fa-trash-o"></i> 删除
                </button>
              </div>
              <div class="flex items-center mb-2">
                <h4 class="font-medium mr-3">张小明</h4>
                <span class="text-neutral-600">138****6789</span>
              </div>
              <p class="text-neutral-700">上海市浦东新区张江高科技园区博云路2号 浦软大厦11层</p>
              <div class="mt-3 flex items-center text-sm text-neutral-500">
                <span class="mr-3"><i class="fa fa-briefcase mr-1"></i> 公司</span>
                <button class="text-primary hover:underline">设为默认</button>
              </div>
            </div>
          </div>
          
          <!-- 新增地址表单（默认隐藏，点击添加按钮显示） -->
          <div class="p-6 border-t border-neutral-200 hidden" id="new-address-form">
            <h4 class="text-lg font-bold mb-4">添加新地址</h4>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-neutral-700 mb-1">收件人</label>
                <input type="text" class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors" placeholder="请输入收件人姓名">
              </div>
              <div>
                <label class="block text-sm font-medium text-neutral-700 mb-1">手机号码</label>
                <input type="tel" class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors" placeholder="请输入手机号码">
              </div>
              <div class="md:col-span-2">
                <label class="block text-sm font-medium text-neutral-700 mb-1">所在地区</label>
                <div class="grid grid-cols-3 gap-2">
                  <select class="px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                    <option value="">省份</option>
                  </select>
                  <select class="px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                    <option value="">城市</option>
                  </select>
                  <select class="px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                    <option value="">区县</option>
                  </select>
                </div>
              </div>
              <div class="md:col-span-2">
                <label class="block text-sm font-medium text-neutral-700 mb-1">详细地址</label>
                <textarea class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors" rows="3" placeholder="请输入详细地址"></textarea>
              </div>
              <div>
                <label class="block text-sm font-medium text-neutral-700 mb-1">地址类型</label>
                <select class="w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors">
                  <option value="home">住宅</option>
                  <option value="company">公司</option>
                  <option value="other">其他</option>
                </select>
              </div>
              <div class="flex items-end">
                <label class="flex items-center">
                  <input type="checkbox" class="w-5 h-5 text-primary rounded mr-2">
                  <span class="text-sm">设为默认地址</span>
                </label>
              </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
              <button class="px-4 py-2 border border-neutral-300 rounded-lg hover:bg-neutral-50 transition-colors">
                取消
              </button>
              <button class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                保存地址
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}